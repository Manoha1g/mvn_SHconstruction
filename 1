#!groovy
@Library('sharedlibraries@master')
// import os_directoryMake
// import git_checkoutBranch
import listFiles

pipeline{
  agent any
  environment {
    OUT_DIR = "${env.WORKSPACE}/out"
  }
  tools { 
    maven 'maven-3.6.1' 
  }
  stages{
//Checking out the source code....
/*    stage('prepare'){
      steps {
        script {
        // clean workspace and make output directory for artifacts
          echo "Test message1 from Jenkinsfile. $OUT_DIR"
          os_directoryMake {
            "${OUT_DIR}"
          }
          echo "Test message2 from Jenkinsfile"
        }
      }
    }
    stage('Checkout') {
      steps {
        git_checkoutBranch(
                  branch: 'refs/heads/master',
                  relTargetDir: 'src/data-collection',
                  url: 'https://github.com/Manoha1g/mvn_SHconstruction.git'
        )
      }
    }
*/
    stage('List files') {
      steps {
       // script {
          listFiles {
            "-a"
          }
       // }
  //      listFiles(
    //      option1: '-a'
      //  )
      }
    }
  }
}
